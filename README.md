# Ya_news
### Новостной сайт, где пользователи могут оставлять комментарии к новостям.

## Описание проекта

* На главной странице проекта отображаются 10 последних новостей.
Главная страница доступна любому пользователю. Новости отображаются в
сокращённом виде (видно только первые 15 слов).
* У каждой новости есть своя страница, с полным текстом новости; там
же отображаются и комментарии пользователей.
* Любой пользователь может самостоятельно зарегистрироваться на сайте.
* Залогиненный (авторизованный) пользователь может оставлять
комментарии, редактировать и удалять свои комментарии.
* Если к новости есть комментарии — их количество отображается на
главной странице под новостью.
* В коде проекта есть список запрещённых слов, которые нельзя
использовать в комментариях, например, «редиска» и «негодяй».

### Основной стек технологий проекта:

python, django, pytest, unittest, sqlite3

## Тесты для проекта YaNews

### В файле test_routes.py:
* Главная страница доступна анонимному пользователю.
* Страница отдельной новости доступна анонимному пользователю.
* Страницы удаления и редактирования комментария доступны автору комментария.
* При попытке перейти на страницу редактирования или удаления комментария анонимный
пользователь перенаправляется на страницу авторизации.
* Авторизованный пользователь не может зайти на страницы редактирования или удаления чужих
комментариев (возвращается ошибка 404).
* Страницы регистрации пользователей, входа в учётную запись и выхода из неё доступны
анонимным пользователям.

### В файле test_content.py:
* Количество новостей на главной странице — не более 10.
* Новости отсортированы от самой свежей к самой старой. Свежие новости в начале списка.
* Комментарии на странице отдельной новости отсортированы в хронологическом порядке:
старые в начале списка, новые — в конце.
* Анонимному пользователю недоступна форма для отправки комментария на странице отдельной
новости, а авторизованному доступна.

### В файле test_logic.py:
* Анонимный пользователь не может отправить комментарий.
* Авторизованный пользователь может отправить комментарий.
* Если комментарий содержит запрещённые слова, он не будет опубликован, а форма вернёт
ошибку.
* Авторизованный пользователь может редактировать или удалять свои комментарии.
* Авторизованный пользователь не может редактировать или удалять чужие комментарии.

### Как запустить проект:

Клонировать репозиторий и перейти в него в командной строке:

```
git@github.com:dariazueva/ya_news.git
```

```
cd ya_news
```

Cоздать и активировать виртуальное окружение:

```
python -m venv env
```

* Если у вас Linux/macOS

    ```
    source env/bin/activate
    ```

* Если у вас windows

    ```
    source env/Scripts/activate
    ```

```
python -m pip install --upgrade pip
```

Создайте файл .env и заполните их своими данными по образцу:

```
SECRET_KEY = ваш-секретный-ключ
```

Установить зависимости из файла requirements.txt:

```
pip install -r requirements.txt
```

Выполнить миграции:

```
python manage.py migrate
```

Загрузите фикстуры:

```
python manage.py loaddata news.json
```

Запустить проект:

```
python manage.py runserver
```

Запустить тесты проекта:
* Pytest:

    ```
    pytest
    ```

* Unittest:

    ```
    python manage.py test news.tests
    ```

## Автор
Зуева Дарья Дмитриевна
Github https://github.com/dariazueva/
